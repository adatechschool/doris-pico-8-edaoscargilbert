pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
--lyra's chronicle
--eda, jay et oscar

function _init()
	create_player()
end

function _update()
	player_movement()
	update_camera()
end

function _draw()
	draw_map()
	draw_player()
end
-->8
--map

function draw_map()
	map()
end

function cf(flag, x, y)
	local sprite = mget(x,y)
	return fget(sprite, flag)
end

function update_camera()
	local camx = mid(0,p.x-7.5,127-15) 
	local camy = mid(0,p.y-7.5,63-15)
	camera(camx*8,camy*8)
end


-->8
--player

function create_player()
	p={x=5,y=2,sprite=16}
end

function draw_player()
	spr(p.sprite, p.x*8, p.y*8)
end

function player_movement()

	nx=p.x
	ny=p.y
	
	if (btnp(➡️)) nx+=1
	if (btnp(⬅️)) nx-=1
	if (btnp(⬆️)) ny-=1
	if (btnp(⬇️)) ny+=1
	
	if not cf(0,nx,ny) then
	p.x=mid(0,nx,127)
	p.y=mid(0,ny,63)
	else
	sfx(0)
	end
end
__gfx__
00000000333333331111111144444444411111111111111111111114333333333333333311111114444444444444444441111111000000000000000000000000
0000000033333333111111111111111141111111111111111111111433333333333bb33311111114111111144111111141111111000000000000000000000000
00000000333a333311111111111111114111111111111111111111143333333333bbbb3311111114111111144111111141111111000000000000000000000000
0000000033a9a3331111111111111111411111111111111111111114333333333bbbbbb311111114111111144111111141111111000000000000000000000000
00000000333a333311111111111111114111111111111111111111143333333333bbbb3311111114111111144111111141111111000000000000000000000000
0000000033333a331111111111111111411111111111111111111114333333333bb44bb311111114111111144111111141111111000000000000000000000000
000000003333a9a31111111111111111411111111111111111111114333333333334433311111114111111144111111141111111000000000000000000000000
0000000033333a331111111111111111411111114444444411111114333333333334433344444444111111144111111144444444000000000000000000000000
00000066000000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
0000066066600000333333333333333311111c611111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
000e66e00060000033333333333333331c6111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00e0e6ee006000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
0011161e066000003333333333333333111c61111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00010600060006663333333333333333c61111c61111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00010660060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060060000003333333333333333111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
20202020202020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707020202020202020207070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070707070707020202020202020202020207070707070707070707070707070707070707020202070707070207070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
20202020207070707020707070707070707020207070707070707070707070707070707070707020707070707070207070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070207070707020707070707070707020207070707070707070707070707070707070707020707070707070207070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
70707070207070707020707070707070707020207070707070707070707070707070707070707020207070707070202070707070707070707070707070707070
70707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070
__gff__
0000010101010100010101010100000000000000010100000000000000000000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2222222222222222222222072222222222222222220707070707070707070707070707070707070702070707070707020707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222222222222222222222222222222207070707070707070707070707070707070702070707070707070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222222222222222222222220722220707070707070707070707070707070707070702070707070707070707070202070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222222222141414141414220707070707070707070707070707070707070707070702070707070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222222214142214141414070707070707070707070707070707070707070707070702020707070707070202070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222221422141414141414070707070707070707070707070707070707070707070702020707070707020207070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222222214141414222214222214141414070707070707020202020707070707070707070707070702020707070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222222220722222222140722220707141407070707070707020202020707070707070707070707070202070707070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222222222222207072222222214142222140707070707070707070707020202020707070707070707070707020207070707070707070702020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222220722220707222207220714072207142207070707070707070707020202020707070707070707070702020707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222072222072222222222070707070722222207070707070707070707070707070707070707070707070202070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2222220707220722220707070707070722221407070707070707070707070707070707070707070707020207070707070707070707070707020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
2207072222222222070707070707070707070707070707070707070707070707070707070707070702020707070707070707070707070707020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707222207222207070707070b03030303030303070303030303030307070707070707070707020202070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
070722070722070707070b030202020202020202070202020202020203030303030707070202020707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070b02020205050505050505070707070707070202020202020202020207070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
07070707070707070b0202050907070707070707070707070707070707070707070707070707070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070b03020209070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070b03030202020907070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0303030202020205090707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0202020205050907070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0505050907070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707020202020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070202020702020202070207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070707070707070707070707070707070707070702020702020707070702070707020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070707070707070702070207020702070702070207070707070707070707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707070707070707070707070702020702070707070707070707070707070707070707070707070202020202020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707070707070707070707020707020702070207070707070707070707070707070707070707070202020202020202020707070707020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0707070707020702070207070207070707070707070707070707070707070202020202020202020202020707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0202020707070707070707070707070707070707070702020202020202020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
0702020202020202020202020202020202020202020207070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707
__sfx__
0001000000000105500d5500b55009550075500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
681000200124503245042450124503245042450124503245042450124503245042450124504245032450124504245032450124504245032450124504245032450024501245032450024501245032450024503245
491000200c5730000000000000000c5730000000000000030c5730000300000000030c5730000300000000030c5730000300000000030c5730000300000000030c5730000300000000030c573000030000300000
011000041a6151a6151a6251a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a6151a615
0110000400000000001a6250000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
01 01424443
00 01024344
01 01020444
03 01020344

